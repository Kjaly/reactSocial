{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/MyPosts/Post/Post.module.scss","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["module","exports","React","Component","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","changeEditMode","updateStatus","className","s","onDoubleClick","onChange","e","currentTarget","value","onBlur","autoFocus","ProfileInfo","profile","profileWrapper","avatar","avatarImg","src","photos","small","alt","descriptionBlock","name","firstname","fullName","surname","birth","city","education","website","contacts","vk","Preloader","Post","item","itemImg","itemText","message","like","counts","MyPosts","memo","console","log","postElements","posts","map","p","likesCount","postsWrapper","postHeader","AddPostFormRedux","onSubmit","values","addPost","newPostBody","maxLength30","maxLengthCreator","minLength2","minLengthCreator","Textarea","Element","reduxForm","form","handleSubmit","makePostWrapper","makePost","postAvatar","Field","validate","required","postText","component","placeholder","postButton","postButtonText","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostCreator","Profile","ProfileContainer","userId","this","match","params","authUserId","history","push","getUserProfile","getStatus","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.f93f459f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backimg\":\"ProfileInfo_backimg__1CJ63\",\"profileWrapper\":\"ProfileInfo_profileWrapper__3hYA9\",\"avatar\":\"ProfileInfo_avatar__186z7\",\"avatarImg\":\"ProfileInfo_avatarImg__1OyR3\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2ax4a\",\"name\":\"ProfileInfo_name__AwoSh\",\"surname\":\"ProfileInfo_surname__2Pnnw\",\"status\":\"ProfileInfo_status__33MbV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2ljAa\",\"itemText\":\"Post_itemText__2JD2U\",\"like\":\"Post_like__Rb3NS\"};","import React from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true,\r\n        })\r\n    }\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false,\r\n        })\r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value,\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status,\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                <div className={s.status}>\r\n                    <span onDoubleClick={this.activateEditMode}>{this.props.status || 'Пустой статус'}</span>\r\n                </div>\r\n                }\r\n                {this.state.editMode &&\r\n                <div>\r\n                    <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode}\r\n                           value={this.state.status}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ProfileStatus;","import React, {useEffect, useState} from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n    const changeEditMode = () => {\r\n        if (!editMode) {\r\n            setEditMode(!editMode)\r\n        } else {\r\n            setEditMode(!editMode)\r\n            props.updateStatus(status)\r\n        }\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div className={s.status}>\r\n                <span onDoubleClick={changeEditMode}>{props.status || 'Пустой статус'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} onBlur={changeEditMode} value={status} autoFocus={true}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport s from './ProfileInfo.module.scss'\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport ProfileStatus from './ProfileStatus'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile,status,updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.profileWrapper}>\r\n            <div className={s.avatar}>\r\n                <img className={s.avatarImg} src={profile.photos.small}\r\n                     alt=\"\"/>\r\n            </div>\r\n            <div className={s.descriptionBlock}>\r\n                <div className={s.name}>\r\n                    <div className={s.firstname}>{profile.fullName}</div>\r\n                    <div className={s.surname}></div>\r\n                </div>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                <div className={s.birth}> Date of Birth: 9 marth</div>\r\n                <div className={s.city}>City: Kaliningrad</div>\r\n                <div className={s.education}> Education: RANHiGS</div>\r\n                <div className={s.website}>Web Site: {profile.contacts.vk}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport s from './Post.module.scss'\r\n\r\nconst Post = (props) => {\r\n    return <div className={s.item}>\r\n        <div className={s.itemImg}>\r\n            <img\r\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQhlUJ9_4Au3qrw7-DlLRAC0N14CdTgfzHUsg&usqp=CAU\"\r\n                alt=\"\"/>\r\n        </div>\r\n        <div className={s.itemText}>\r\n            {props.message}\r\n        </div>\r\n        <div className={s.like}>\r\n            <span>Like {props.counts} </span>\r\n        </div>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport s from './MyPosts.module.scss'\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Element} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n    console.log('render')\r\n    let postElements = props.posts.map(p => <Post counts={p.likesCount} message={p.message}/>)\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostBody)\r\n    }\r\n\r\n    return <div className={s.postsWrapper}>\r\n        <h3 className={s.postHeader}>My posts</h3>\r\n        <AddPostFormRedux onSubmit={addNewPost}/>\r\n        <div className={s.posts}>\r\n            {postElements}\r\n        </div>\r\n    </div>\r\n});\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst minLength2 = minLengthCreator(2);\r\nconst Textarea = Element('textarea')\r\nconst AddPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.makePostWrapper}>\r\n                <div className={s.makePost}>\r\n                    <div className={s.postAvatar}>\r\n                        <img\r\n                            src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQhlUJ9_4Au3qrw7-DlLRAC0N14CdTgfzHUsg&usqp=CAU\"\r\n                            alt=\"\"/>\r\n                    </div>\r\n                    <Field validate={[required, maxLength30,minLength2]} className={s.postText} component={Textarea} name = {'newPostBody'} placeholder='Введите сообщение...' />\r\n                </div>\r\n                <div className={s.postButton}>\r\n                    <button >\r\n                        <div className={s.postButtonText}>Add post</div>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form:'profileAddPostForm'})(AddPostForm);\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostCreator} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostCreator(newPostBody));\r\n        },\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus,} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authUserId ;\r\n            if (!userId){\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status = {this.props.status}\r\n                     updateStatus ={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status:state.profilePage.status,\r\n    authUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n\r\n})\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent);                         //СТАРЫЙ ВАРИАНТ\r\n// export default connect(mapStateToProps, {getUserProfile})(WithUrlDataContainerComponent);\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),                        //УПРОЩЕННЫЙ ВАРИАНТ\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n"],"sourceRoot":""}